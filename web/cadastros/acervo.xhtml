<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/Layout.xhtml">

    <ui:define name="content">

        <script type="text/javascript">
            function handleDialogSubmit(xhr, status, args) {
                if (args.validationFailed) {
                    PF('dlg2').show();
                } else {
                    PF('dlg2').hide();
                }
            }
        </script>

        <h1 class="aw-page-title">Cadastro de Itens</h1>

        <h:form id="cadButton">

            <p:commandButton value="Cadastrar" onclick="PF('dlg2').show();" icon="fa fa-user-plus"/>

        </h:form><br/>


        <!--DIALOG CADASTRAR-->
        <p:dialog header="Cadastrar Acervo" widgetVar="dlg2" modal="true" height="430" width="550" minWidth="400">

            <p:messages id="messages" showDetail="true" closable="true">
                <p:autoUpdate />
            </p:messages>

            <h:form id="formCadastro">

                <p:outputLabel for="inputTitulo">Título: </p:outputLabel><br/>
                <p:inputText id="inputTitulo" value="#{acervoMB.acervo.nome}"
                             required="true"
                             requiredMessage="Preencha o campo Título"/> <br/>

                <br/>

                <p:outputLabel for="inputDataLancamento">Data de Lançamento</p:outputLabel><br/>
                <p:calendar id="inputDataLancamento" pattern="dd/MM/yyyy" mask="true"
                            value="#{acervoMB.acervo.dataLancamento}"
                            required="true"
                            requiredMessage="Preencha o campo Data de Lançamento."/> 

                <br/><br/>

                <p:outputLabel for="genero">Gênero:</p:outputLabel><br/>
                <p:selectOneMenu id="genero" value="#{acervoMB.acervo.genero}">
                    <f:selectItem itemLabel="Jogos" itemValue="1" /><!--Apenas exemplos-->
                    <f:selectItem itemLabel="Ação" itemValue="2" /><!--Apenas exemplos-->
                    <f:selectItem itemLabel="Filmes" itemValue="2" /><!--Apenas exemplos-->
                    <f:selectItem itemLabel="Terror" itemValue="2" /><!--Apenas exemplos-->                        
                </p:selectOneMenu><!--Utilizar selectonemenu grouping (separar filmes e jogos) https://www.primefaces.org/showcase/ui/input/oneMenu.xhtml-->

                <br/><br/>

                <p:outputLabel for="classificacao" > Classificação Etária:</p:outputLabel><br/>
                <p:selectOneMenu id="classificacao" value="#{acervoMB.acervo.classificacaoEtaria}">
                    <f:selectItem itemLabel="Livre" itemValue="1" />
                    <f:selectItem itemLabel="10" itemValue="2" />
                    <f:selectItem itemLabel="12" itemValue="3" />
                    <f:selectItem itemLabel="14" itemValue="4" />
                    <f:selectItem itemLabel="16" itemValue="5" />
                    <f:selectItem itemLabel="18" itemValue="6" />
                </p:selectOneMenu>

                <br/>
                <div style="border: 0.5px solid black; width: 99%; margin-top: 10px"></div>
                <br/>

                <p:outputLabel for="tipo" >Tipo: </p:outputLabel><br/>
                <p:selectOneMenu id="tipo" value="#{acervoMB.midia.tipo}">
                    <f:selectItem itemLabel="DVD" itemValue="DVD" />
                    <f:selectItem itemLabel="Blu-Ray" itemValue="Blu-ray" />
                    <f:selectItem itemLabel="CD" itemValue="CD" />
                    <f:selectItem itemLabel="Jogo" itemValue="Jogo" />
                </p:selectOneMenu>         

                <br/><br/>
                <p:outputLabel for="valorLocacao" value="Valor Locação: "/><br/>
                <p:inputNumber id="valorLocacao" value="#{acervoMB.midia.precoLocacao}"  symbol="R$ " />
                <br/>
                <br/>

                <p:outputLabel for="quantidadeMidia" value="Quantidade: "/><br/>
                <p:spinner id="quantidadeMidia" value="#{acervoMB.quantidadeMidia}" min="1"/>
                <br/>
                <br/>

                <p:commandButton value="Adicionar" actionListener="#{acervoMB.adicionarMidia()}" update="quantidadeMidia, valorLocacao, tipo, dataTableMidias"/>

                <br/>
                <br/>

                <p:dataTable id="dataTableMidias" value="#{acervoMB.listMidia}" var="midia">

                    <p:column headerText="ID">
                        <h:outputText value="#{midia.id}" />
                    </p:column>
                    <p:column headerText="Tipo">
                        <h:outputText value="#{midia.tipo}" />
                    </p:column>
                    <p:column headerText="Preço de Locação">
                        <h:outputText value="#{midia.precoLocacao}" />
                    </p:column>
                    <p:column headerText="Ações">
                        
                        <!--BOTÃO EXCLUIR-->
                        <p:commandButton title="Remover" icon="fa fa-trash" actionListener="#{acervoMB.removerMidia(midia)}" update="@form" styleClass="ui-color-red"/>
                        
                    </p:column>
                    
                </p:dataTable>

                <br/>
                <br/>

                <p:commandButton value="Concluir" actionListener="#" update="@form,"/>

            </h:form>

        </p:dialog>

        <!--DIALOG ATUALIZAR CADASTRO-->

        <p:dialog header="Alterar Cadastro" widgetVar="dlg3" modal="true" height="420" width="350" minWidth="300">

            <p:messages id="messagess" showDetail="true" closable="true">
                <p:autoUpdate />
            </p:messages>

            <h:form id="formAtualizarCadastro">

                <p:messages id="messages" showDetail="true" closable="true">
                    <p:autoUpdate />
                </p:messages>

                <p:outputLabel for="inputTitulo">Título: </p:outputLabel><br/>
                <p:inputText id="inputTitulo" value=""
                             required="true"
                             requiredMessage="Preencha o campo Título"/> <br/>

                <br/>

                <p:outputLabel for="inputDataLancamento">Data de Lançamento</p:outputLabel><br/>
                <p:calendar id="inputDataLancamento" pattern="dd/MM/yyyy" mask="true"
                            value="#"
                            required="true"
                            requiredMessage="Preencha o campo Data de Lançamento."/> 

                <br/><br/>

                <p:outputLabel for="genero">Gênero:</p:outputLabel><br/>
                <p:selectOneMenu id="genero" value="">
                    <f:selectItem itemLabel="Jogos" itemValue="1" /><!--Apenas exemplos-->
                    <f:selectItem itemLabel="Ação" itemValue="2" /><!--Apenas exemplos-->
                    <f:selectItem itemLabel="Filmes" itemValue="2" /><!--Apenas exemplos-->
                    <f:selectItem itemLabel="Terror" itemValue="2" /><!--Apenas exemplos-->                        
                </p:selectOneMenu><!--Utilizar selectonemenu grouping (separar filmes e jogos) https://www.primefaces.org/showcase/ui/input/oneMenu.xhtml-->

                <br/><br/>

                <p:outputLabel for="classificacao" > Classificação Etária:</p:outputLabel><br/>
                <p:selectOneMenu id="classificacao" value="">
                    <f:selectItem itemLabel="Livre" itemValue="1" />
                    <f:selectItem itemLabel="10" itemValue="2" />
                    <f:selectItem itemLabel="12" itemValue="3" />
                    <f:selectItem itemLabel="14" itemValue="4" />
                    <f:selectItem itemLabel="16" itemValue="5" />
                    <f:selectItem itemLabel="18" itemValue="6" />
                </p:selectOneMenu>

                <br/><br/>

                <p:outputLabel for="tipo" >Tipo: </p:outputLabel><br/>
                <p:selectOneMenu id="tipo" value="">
                    <f:selectItem itemLabel="DVD" itemValue="1" />
                    <f:selectItem itemLabel="Blu-Ray" itemValue="2" />
                    <f:selectItem itemLabel="CD" itemValue="3" />
                    <f:selectItem itemLabel="Jogo" itemValue="4" />
                </p:selectOneMenu>         

                <br/><br/>
                <p:outputLabel for="valorLocacao" value="Valor Locação: "/><br/>
                <p:inputNumber id="valorLocacao" value=""  symbol="R$ " />
                <br/>
                <br/>

                <p:commandButton value="Alterar" actionListener="#" update="@form,"/>

                <br/>

            </h:form>

        </p:dialog>

        <h:form id="formTabelaAcervo">

            <p:dataTable value="#" var="">

                <p:column headerText="Id">
                    <h:outputText value="aqui vai o id"/>
                </p:column>

                <p:column headerText="Título">
                    <h:outputText value="aqui vai o título"/>
                </p:column>

                <p:column headerText="Data de lançamento">
                    <h:outputText value="aqui vai dt lancamento"/>
                </p:column>

                <p:column headerText="Gênero">
                    <h:outputText value="aqui vai Gênero"/>
                </p:column>

                <p:column headerText="Classificação Etária">
                    <h:outputText value="aqui vai classificacao etaria"/>
                </p:column>

                <p:column headerText="Tipo">
                    <h:outputText value="aqui vai Tipo"/>
                </p:column>

                <p:column headerText="Preço Locação">
                    <h:outputText value="aqui vai preço"/>
                </p:column>

                <p:column headerText="Ações">


                    <!--BOTÃO ALTERAR-->
                    <p:commandButton title="Alterar" icon="fa fa-pencil" update="@form, " styleClass="ui-priority-primary" onclick="PF('dlg3').show();">

                        <f:setPropertyActionListener value="#" target="#"/>

                    </p:commandButton>


                    <!--BOTÃO EXCLUIR-->
                    <p:commandButton title="Excluir" icon="fa fa-trash" actionListener="#" update="@form" styleClass="ui-color-red">

                        <p:confirm header="Confirmação" 
                                   message="Deseja excluir o funcionário?"
                                   icon="ui-icon-alert"/>

                    </p:commandButton>
                </p:column>

            </p:dataTable>

            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                <p:commandButton value="Sim" type="button"
                                 styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                <p:commandButton value="Não" type="button"
                                 styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
            </p:confirmDialog>

        </h:form>

    </ui:define>

</ui:composition>