<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/Layout.xhtml">

    <ui:define name="content">


        <script type="text/javascript">
            function handleDialogSubmit(xhr, status, args) {
                if (args.validationFailed) {
                    PF('dlgLocacao').show();
                } else {
                    PF('dlgLocacao').hide();
                }
            }
        </script>

        <h1 class="aw-page-title">Locação</h1>

        <h:form id="cadButton">

            <p:commandButton value="Nova Locação" onclick="PF('dlgLocacao').show();" icon="fa fa-user-plus" styleClass="ui-color-green" />

        </h:form><br/>

        <!--DIALOG CADASTRO-->
        <p:dialog header="Nova Locação" widgetVar="dlgLocacao" modal="true" height="300" width="800" >

            <p:messages id="messages" showDetail="true" closable="true">
                <p:autoUpdate />
            </p:messages>

            <h:form id="formularioCabecalhoLocacao">

                <h:panelGrid columns="2">

                    <h:outputLabel for="selectOneMenuCliente" value="Cliente:" />
                    <p:selectOneMenu id="selectOneMenuCliente" value="#"
                                     filter="true"
                                     filterMatchMode="startsWith">
                        <f:selectItem itemLabel="Selecione um Cliente" itemValue=""/>

                    </p:selectOneMenu>

                    <h:outputLabel for="calendarDataLocacao" value="Data de Locação:" />
                    <p:calendar id="calendarDataLocacao" pattern="dd/MM/yyyy" value="" mask="true"/>

                    <h:outputLabel for="calendarDataDevolucao" value="Data de Devolução:" />
                    <p:calendar id="calendarDataDevolucao" pattern="dd/MM/yyyy" value="" mask="true"/>

                </h:panelGrid>

                <div style="border: 0.5px solid black; width: 99%; margin-top: 10px"></div>
                <br/>

                <!-- 		INÍCIO DE MIDIAS -->
                <h:panelGrid columns="4">
                    <h:outputText value="Midia: " />
                    <p:selectOneMenu value="#"
                                     filter="true"
                                     filterMatchMode="startsWith">
                        <f:selectItem itemLabel="123123 - Harry Potter - Disponibilidade" itemValue="" />
                        <f:selectItem itemLabel="675645 - Senhor dos anéis - Disponibilidade" itemValue="" />
                    </p:selectOneMenu>

                    <p:inputNumber id="valorItemLocacao" placeholder="Preço" value="" symbol="R$ " />

                    <p:commandButton value="Adicionar" update=""
                                     actionListener="#"/>

                </h:panelGrid>

                <br/>

                <p:dataTable id="tabelaItensLocacao" value="#" var="obj">

                    <p:column headerText="ID">
                        <h:outputText value="12312" />
                    </p:column>

                    <p:column headerText="Nome">
                        <h:outputText value="1" />
                    </p:column>		

                    <p:column headerText="Tipo">
                        <h:outputText value="DVD" />
                    </p:column>		

                    <p:column headerText="Data de Lançamento">
                        <h:outputText value="02/02/2002" />
                    </p:column>

                    <p:column headerText="Preço">
                        <h:outputText value="02/02/2002" />
                    </p:column>

                    <p:column headerText="Ações">

                        <!--BOTÃO ALTERAR-->
                        <p:commandButton title="Alterar" icon="fa fa-pencil" update="@form" styleClass="ui-priority-primary" onclick="PF('dlg3').show();">

                            <f:setPropertyActionListener value="#" target="#"/>

                        </p:commandButton>

                        <!--BOTÃO EXCLUIR-->
                        <p:commandButton title="Excluir" icon="fa fa-trash"  actionListener="#" update="@form" styleClass="ui-color-red" >


                        </p:commandButton>

                    </p:column>

                </p:dataTable>
                <!-- 		FIM DE MIDIAS -->

                <br/>

                <p:commandButton value="Finalizar Venda" 
                                 actionListener="#" 
                                 update=""/> 

                <h:outputText value="Total: R$ 000,00" style="float:right;font-size: 16px"/>

            </h:form>

        </p:dialog>

        <!--DIALOG ALTERAR-->
        <p:dialog header="Alterar Locação" widgetVar="dlgAlterarLocacao" modal="true" height="300" width="800" >

            <p:messages id="messagesAlterar" showDetail="true" closable="true">
                <p:autoUpdate />
            </p:messages>

            <h:form id="formularioCabecalhoLocacaoAlterar">

                <h:panelGrid columns="2">

                    <h:outputLabel for="selectOneMenuClienteAlterar" value="Cliente:" />
                    <p:selectOneMenu id="selectOneMenuClienteAlterar" value="#"
                                     filter="true"
                                     filterMatchMode="startsWith">
                        <f:selectItem itemLabel="Selecione um Cliente" itemValue=""/>

                    </p:selectOneMenu>

                    <h:outputLabel for="calendarDataLocacaoAlterar" value="Data de Locação:" />
                    <p:calendar id="calendarDataLocacaoAlterar" pattern="dd/MM/yyyy" value="" mask="true"/>

                    <h:outputLabel for="calendarDataDevolucaoAlterar" value="Data de Devolução:" />
                    <p:calendar id="calendarDataDevolucaoAlterar" pattern="dd/MM/yyyy" value="" mask="true"/>

                </h:panelGrid>

                <div style="border: 0.5px solid black; width: 99%; margin-top: 10px"></div>
                <br/>

                <!-- 		INÍCIO DE MIDIAS -->
                <h:panelGrid columns="4">
                    <h:outputText value="Midia: " />
                    <p:selectOneMenu value="#"
                                     filter="true"
                                     filterMatchMode="startsWith">
                        <f:selectItem itemLabel="123123 - Harry Potter - Disponibilidade" itemValue="" />
                        <f:selectItem itemLabel="675645 - Senhor dos anéis - Disponibilidade" itemValue="" />
                    </p:selectOneMenu>

                    <p:inputNumber id="valorItemLocacaoAlterar" placeholder="Preço" value="" symbol="R$ " />

                    <p:commandButton value="Adicionar" update=""
                                     actionListener="#"/>

                </h:panelGrid>

                <br/>

                <p:dataTable id="tabelaItensLocacaoAlterar" value="#" var="obj">

                    <p:column headerText="ID">
                        <h:outputText value="12312" />
                    </p:column>

                    <p:column headerText="Nome">
                        <h:outputText value="1" />
                    </p:column>		

                    <p:column headerText="Tipo">
                        <h:outputText value="DVD" />
                    </p:column>		

                    <p:column headerText="Data de Lançamento">
                        <h:outputText value="02/02/2002" />
                    </p:column>

                    <p:column headerText="Preço">
                        <h:outputText value="02/02/2002" />
                    </p:column>

                    <p:column headerText="Ações">

                        <!--BOTÃO ALTERAR-->
                        <p:commandButton title="Alterar" icon="fa fa-pencil" update="@form" styleClass="ui-priority-primary" onclick="PF('dlg3').show();">

                            <f:setPropertyActionListener value="#" target="#"/>

                        </p:commandButton>

                        <!--BOTÃO EXCLUIR-->
                        <p:commandButton title="Excluir" icon="fa fa-trash"  actionListener="#" update="@form" styleClass="ui-color-red" >


                        </p:commandButton>

                    </p:column>

                </p:dataTable>
                <!-- 		FIM DE MIDIAS -->

                <br/>

                <p:commandButton value="Finalizar Alteração" 
                                 actionListener="#" 
                                 update=""/> 

                <h:outputText value="Total: R$ 000,00" style="float:right;font-size: 16px"/>

            </h:form>

        </p:dialog>

        <!--DIALOG DETALHES-->
        <p:dialog header="Detalhes Locação" widgetVar="dlgDetalhesLocacao" modal="true" height="300" width="800" >

            <!--Se não funcionario pode ser pq nao ta dentro de um form-->

            <!--Informações Gerais-->
            <h:panelGrid columns="2">

                <p:outputLabel for="idCliente">Id: </p:outputLabel>
                <p:inputText id="idCliente" requiredMessage="Preencha o campo ID"/>

                <h:outputLabel for="selectOneMenuStatus" value="Status:" />
                <p:selectOneMenu id="selectOneMenuStatus" value="#"
                                 filter="true"
                                 filterMatchMode="startsWith">
                    <f:selectItem itemLabel="Reservado" itemValue=""/>
                    <f:selectItem itemLabel="Devolvido" itemValue=""/>

                </p:selectOneMenu>

                <h:outputLabel for="selectOneMenuCliente" value="Cliente:" />
                <p:selectOneMenu id="selectOneMenuCliente" value="#"
                                 filter="true"
                                 filterMatchMode="startsWith">
                    <f:selectItem itemLabel="Selecione um Cliente" itemValue=""/>

                </p:selectOneMenu>
                
                </h:panelGrid>
            <br/>

                <h:panelGrid columns="4">
                <h:outputLabel for="calendarDataLocacao" value="Data de Locação:" />
                <p:calendar id="calendarDataLocacao" pattern="dd/MM/yyyy" value="" mask="true"/>
                
                <h:outputLabel for="calendarDataDevolucaoPrevista" value="Data de Devolução Prevista:" />
                <p:calendar id="calendarDataDevolucaoPrevista" pattern="dd/MM/yyyy" value="" mask="true"/>

                <h:outputLabel for="calendarDataDevolucao" value="Data de Devolução:" />
                <p:calendar id="calendarDataDevolucao" pattern="dd/MM/yyyy" value="" mask="true"/>
                
                <h:outputLabel for="calendarDataPagamento" value="Data de Pagamento:" />
                <p:calendar id="calendarDataPagamento" pattern="dd/MM/yyyy" value="" mask="true"/>

            </h:panelGrid>

            <br/>

            <!--Itens de Locação-->
            <p:dataTable id="tabelaItensLocacaoDetalhes" value="#" var="obj">

                <p:column headerText="ID">
                    <h:outputText value="12312" />
                </p:column>

                <p:column headerText="Status">
                    <h:outputText value="Reserva" />
                </p:column>		

                <p:column headerText="Locador">
                    <h:outputText value="Carinha" />
                </p:column>		

                <p:column headerText="Data de Locação">
                    <h:outputText value="02/02/2002" />
                </p:column>

                <p:column headerText="Data de Devolução Prevista">
                    <h:outputText value="03/02/2002" />
                </p:column>

                <p:column headerText="Data de Devoulção">
                    <h:outputText value="05/02/2002" />
                </p:column>

                <p:column headerText="Data de Pagamento">
                    <h:outputText value="02/02/2002" />
                </p:column>

            </p:dataTable>

            <br/>

            <!--Informações de Multa-->
            <h:panelGrid columns="2">

                <f:facet name="header">
                    <h:outputText value="Multa"/>
                </f:facet>

                <p:outputLabel for="descricaoMulta">Descrição:  </p:outputLabel>
                <p:inputText id="descricaoMulta" requiredMessage="Preencha o campo ID"/>
                 

                <p:outputLabel for="valordaMulta">Valor da multa: </p:outputLabel>
                <p:inputText id="valordaMulta" requiredMessage="Preencha o valor da multa"/>
                <p:outputLabel for="valorLocação">Valor da locação: </p:outputLabel>
                <p:inputText id="valorLocação" requiredMessage="Preencha o valor da locaçao"/>
                <p:outputLabel for="valorPago">Valor pago: </p:outputLabel>
                <p:inputText id="valorPago" requiredMessage="Preencha o valor pago"/>

            </h:panelGrid>

            <p:dataTable id="tabelaItensLocacaoMulta" value="#" var="obj">

                <p:column headerText="Descrição">
                    <h:outputText value="Quebrou o Disco" />
                </p:column>

                <p:column headerText="Valor da multa">
                    <h:outputText value="R$50,00" />
                </p:column>

                <p:column headerText="Preço da Locação">
                    <h:outputText value="R$5,00" />

                </p:column><p:column headerText="Valor pago">
                    <h:outputText value="R$55,00" />
                </p:column>


            </p:dataTable>

            <!--Informações de Preço-->

           

        </p:dialog>

        <!--DIALOG TABELA PRINCIPAL-->
        <h:form id="formTabela">

            <p:dataTable value="" var="locao">

                <p:column headerText="ID">
                    <h:outputText value=""/>
                </p:column>

                <p:column headerText="Data de Locação">
                    <h:outputText value=""/>
                </p:column>

                <p:column headerText="Data de Devolução Prevista">
                    <h:outputText value=""/>
                </p:column>

                <p:column headerText="Data de Devolução">
                    <h:outputText value=""/>
                </p:column>

                <p:column headerText="Locador">
                    <h:outputText value=""/>
                </p:column>

                <p:column headerText="Status">
                    <!--Mostrar se é uma reserva, locacao corrente ou locacao concluida-->
                    <h:outputText value=""/>
                </p:column>

                <p:column headerText="Preço">
                    <h:outputText value=""/>
                </p:column>

                <p:column headerText="Ações">

                    <!--BOTÃO DETALHES-->
                    <p:commandButton title="Detalhes" icon="fa fa-envelope-o" update="@form, " styleClass="ui-color-orange" onclick="PF('dlgDetalhesLocacao').show();">

                        <f:setPropertyActionListener value="#" target="#"/>

                    </p:commandButton>

                    <!--BOTÃO ALTERAR-->
                    <p:commandButton title="Alterar" icon="fa fa-pencil" update="@form, " styleClass="ui-priority-primary" onclick="PF('dlgAlterarLocacao').show();">

                        <f:setPropertyActionListener value="#" target="#"/>

                    </p:commandButton>

                    <!--BOTÃO EXCLUIR-->
                    <!--Deixar excluir somente quando o a data de locacao for <= hoje-->
                    <p:commandButton title="Excluir" icon="fa fa-trash"  actionListener="#" update="@form" styleClass="ui-color-red" >

                        <p:confirm header="Confirmação" 
                                   message="Deseja excluir o dependente?"
                                   icon="ui-icon-alert"/>

                    </p:commandButton>

                </p:column>

            </p:dataTable>

            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                <p:commandButton value="Sim" type="button"
                                 styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                <p:commandButton value="Não" type="button"
                                 styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
            </p:confirmDialog>

        </h:form>

    </ui:define>

</ui:composition>